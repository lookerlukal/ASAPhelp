<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:m="http://www.w3.org/1998/Math/MathML"><head/><body><span style="padding: 0; font-family: verdana, geneva, sans-serif;font-size: 11px; line-height: 1.50em;     color: #333;  background-color: #fff;"/><html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="RAY (ASAP Command)"/>
<meta name="abstract" content="Defines and traces a single ray."/>
<meta name="description" content="Defines and traces a single ray."/>
<meta name="DC.subject" content="RAY (ASAP Command), ray, defining and tracing"/>
<meta name="keywords" content="RAY (ASAP Command), ray, defining and tracing"/>
<meta name="DC.Relation" scheme="URI" content="../Reference/Commands_R-ref.html#Commands_and_Macos_R"/>
<meta name="DC.Relation" scheme="URI" content="../Commands/IMMERSE_ASAP-cmdref.html"/>
<meta name="DC.Relation" scheme="URI" content="../Commands/LENSES_ENTITIES_ASAP-cmdref.html"/>
<meta name="DC.Relation" scheme="URI" content="../Commands/OVERLAY_arg_ASAP-cmdref.html"/>
<meta name="DC.Relation" scheme="URI" content="../Commands/RAYS_ASAP-cmdref.html#RAYS_ASAP_Command"/>
<meta name="DC.Relation" scheme="URI" content="../Commands/RAYSET_ASAP-cmdref.html#RAYSET_ASAP_Command"/>
<meta name="DC.Relation" scheme="URI" content="../Commands/WINDOW_ASAP-cmdref.html"/>
<meta name="DC.Relation" scheme="URI" content="../Reference/General_Input_Techniques-ref.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="RAY_ASAP_Command"/>
<link rel="stylesheet" type="text/css" href="../commonltr.css"/>
<title>RAY (ASAP Command)</title>
</head>
<body id="RAY_ASAP_Command"><a name="RAY_ASAP_Command"><!-- --></a>


	<span style="color: #2b6eb5"><h5>RAY (ASAP Command)</h5></span>
	
	
	<div><p>Defines and traces a single ray. </p>

		<p><b>Syntax</b>
		</p>

		<pre class="codeblock">RAY x y z a,b,c [h] [DIR] [PLOT [d]] [SEARCH] [KEEP] [LENS [n]]</pre>

		<br/><table border="0"><thead align="left"><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><th><span>Option</span></th><th><span>Description</span></th></tr></thead><tbody><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>x y z</span></td><td><span>starting coordinates of ray</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>a,b,c</span></td><td><span>initial direction vector of ray</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>h</span></td><td><span>cross-sectional, semidiameter (default 1)</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>DIR</span></td><td><span>prints ray coordinates and direction cosines at each intersection</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>PLOT</span></td><td><span>plots ray and any <b>PARABASALS</b> in current graphics
						<b>WINDOW</b></span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>d</span></td><td><span>ray depth coordinate</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>SEARCH</span></td><td><span>ray intersection logic option </span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>KEEP</span></td><td><span>adds ray to current ray storage after ray tracing; otherwise
				deletes</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>LENS n</span></td><td><span>creates a lens entity n from the sequence of surfaces encountered by the
					parent ray</span></td></tr></tbody></table>
		<p><b>Remarks</b>
		</p>

		<br/><a name="RAY_ASAP_Command__ul_C8283B32B7934A7492C072671E292B62"><!-- --></a><ol id="RAY_ASAP_Command__ul_C8283B32B7934A7492C072671E292B62">
			<li id="RAY_ASAP_Command__li_978DC748EBB1485FA68D6280AC3D5784"><a name="RAY_ASAP_Command__li_978DC748EBB1485FA68D6280AC3D5784"><!-- --></a>Traces a single ray/beam through the entire
				system starting in the <b>IMMERSE</b> medium at the point (x y z), with
				a direction given by the vector (a,b,c) and cross-sectional semi-diameter h (default
				1). </li>

			<li id="RAY_ASAP_Command__li_F88380EE3B7B426FB9AC852B69614FDF"><a name="RAY_ASAP_Command__li_F88380EE3B7B426FB9AC852B69614FDF"><!-- --></a>The program always lists the ray
				coordinates at each surface intersected. The <b>DIR</b> option adds the
				ray directions to the listing. </li>

			<li id="RAY_ASAP_Command__li_94BC8890946A4D1D9D001AFC9F66B096"><a name="RAY_ASAP_Command__li_94BC8890946A4D1D9D001AFC9F66B096"><!-- --></a>The <b>PLOT</b> option plots
				the ray and any <b>PARABASALS</b> in the current graphics <b>WINDOW</b>. If you enter RAY interactively and the ray is being overlaid
				on a previous system graphics screen, you may trace more rays by marking the
				starting point (depth x, y or z) and second point (depth d) with the graphics
				pointer. Press the right mouse button (or the Enter key) to terminate this mode. </li>

			<li id="RAY_ASAP_Command__li_0C043143A71D404CA8093EC69ED253B0"><a name="RAY_ASAP_Command__li_0C043143A71D404CA8093EC69ED253B0"><!-- --></a>The <b>d</b> is the depth of
				each ray starting coordinate within the plotting window. </li>

			<li id="RAY_ASAP_Command__li_5EFB14D847214D9C8B3589F380ED86FB"><a name="RAY_ASAP_Command__li_5EFB14D847214D9C8B3589F380ED86FB"><!-- --></a>The <b>SEARCH</b> option resets
				the allowable object intersections for future rays according to the sequence of
				objects encountered during this single ray trace. </li>

			<li id="RAY_ASAP_Command__li_433CF8BAFB6346A991490313E214E746"><a name="RAY_ASAP_Command__li_433CF8BAFB6346A991490313E214E746"><!-- --></a>Unless the <b>KEEP</b> option
				is used, any rays traced with RAY are deleted from storage after they have been
				traced. </li>

			<li id="RAY_ASAP_Command__li_4A97034DA60B41B7A5154201B7412A17"><a name="RAY_ASAP_Command__li_4A97034DA60B41B7A5154201B7412A17"><!-- --></a>The sequence of surfaces encountered by the
				parent ray can be optionally used to create <b>LENS</b> entity <b>n</b> (default is one more than current highest entity number). <p>Some
					commands, including <b>RAY</b>, require the specification of a
					direction vector. The following format can be used for this input entry: </p>
<p><b>RAY</b> direction of vector between positions of the two
					entities. </p>
</li>

		</ol>

		<p><b>Example - General Format</b>
		</p>

		<pre class="codeblock">
Ray number		I
Object 		X 		Y 		Z		Size 		       Flux
 				U  		V
object name
object number	x 		y			z		beam size          flux before intersection
				u 		v
   Nrm		l 		m 		n		average curvature  incident angle Inc  
   Dir		a			b			c		beam divergence    flux after intersection</pre>

		<div class="p">
			<div class="note"><span class="notetitle">Note:</span> for <b>u</b> and <b>v</b> parameters, </div>

		</div>

		<br/><a name="RAY_ASAP_Command__ul_9279EFC204CD4AE88A42CCCE4FB2D8B7"><!-- --></a><ul id="RAY_ASAP_Command__ul_9279EFC204CD4AE88A42CCCE4FB2D8B7">
			<li id="RAY_ASAP_Command__li_ED03A5D8E1E74731BB291A56C2D5014C"><a name="RAY_ASAP_Command__li_ED03A5D8E1E74731BB291A56C2D5014C"><!-- --></a>The <b>u</b> and <b>v</b> are not printed for a <b>SURFACE</b>;<b>OBJECT</b> unless the <b>SURFACE</b> is a <b>SURFACE;
					ARRAY;OBJECT</b>. Then the <b>u</b> is the <b>n</b>th array element of the <b>OBJECT</b> and the <b>v</b> is the <b>n</b>th array element of the <b>OBJECT</b> that the ray intersects. </li>

			<li id="RAY_ASAP_Command__li_8DDB06AA077342FAACAF22FA1B2C1154"><a name="RAY_ASAP_Command__li_8DDB06AA077342FAACAF22FA1B2C1154"><!-- --></a>The <b>u</b> indicates the
				conicoid number for the <b>LENS;OBJECT</b> the ray intersects. </li>

			<li id="RAY_ASAP_Command__li_1BC4C5D4DA6445428A9A0D42B5035071"><a name="RAY_ASAP_Command__li_1BC4C5D4DA6445428A9A0D42B5035071"><!-- --></a>The <b>u</b> and <b>v</b> for an <b>EDGE;OBJECT</b> parametrically indicate the mesh
				number and the fractional coordinate within the mesh that the ray intersects. </li>

		</ul>

		<p><b>Example - Plot Options</b>
		</p>

		<pre class="codeblock">
 --- WIN Y Z; WIN 1.5
 --- PROFILE 'RAY COMMAND RAY TRACE AND PROFILE' OVER
  Window Vertical: Y = -7.50000     to  7.50000      ( 15.0000    )
         Horizontal: Z = -21.3806     to  16.2821      ( 37.6627    )


   -1 Cuts for X=0.000000     to 0.000000
 --- RAY 2 2 -20 0 0 1 PLOT 2 SEARCH
  Window Vertical: Y = -7.50000     to  7.50000      ( 15.0000    )
       Horizontal: Z = -21.3806     to  16.2821      ( 37.6627    )


 Ray number      1
 Object       X                       Y                           Z              Size                  Flux
    0    2.000000           2.000000          -20.00000     1.000000          1.000000
    2    2.000000           2.000000             -.1000000  1.000000          1.000000
    1   0.5005005          0.5005005       -15.02002      0.2502502        0.8999999
    3   -.1916530E-06  -.1916530E-06  10.00000      0.5674274E-06 0.8099998
          Total OPL =  60.00000000381213
  Effective Focal Length =  100.020


  Window Vertical: Y = -7.50000     to  7.50000      ( 15.0000    )
       Horizontal: Z = -21.3806     to  16.2821      ( 37.6627    )

 
 Ray number      2
 Object       X                     Y                    Z              Size               Flux
    0    2.000000     -4.188794     -10.49998    1.000000      1.000000
    2    2.000000     -2.989614     -.1617224    1.000000      1.000000
    1   0.4851324      1.061682     -15.05435    0.2309581     0.8999999
 ***Ray      2 missed after object   1 - SECONDARY_MIRROR
  Effective Focal Length =  74.5145


 --- SEARCH LIST
 Object From  To  By   Description
    0    2    2    1
    1    1  300  1  SECONDARY_MIRROR
    2    1    1    1  PRIMARY_MIRROR
    3    1  300  1  DETECTOR</pre>

		<p>
			<a href="../example_scripts.html#RAY">RAY Examples</a>
		</p>

	</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="../Reference/Commands_R-ref.html#Commands_and_Macos_R" title="Topics in this section of the Contents tab include ASAP commands and macros that begin with the letter “R”.">Commands and Macros (R)</a></div>
</div>
<div class="relref"><strong>Related reference</strong><br/>
<div><a href="../Reference/General_Input_Techniques-ref.html" title="Techniques for ASAP input include: radian angle entries, relative and literal referencing, direction vectors, and linear transformations.">General Input Techniques</a></div>
</div>
<div class="relinfo"><strong>Related information</strong><br/>
<div><a href="../Commands/IMMERSE_ASAP-cmdref.html" title="Creates rays in MEDIA in other than zero.">IMMERSE (ASAP Command)</a></div>
<div><a href="../Commands/LENSES_ENTITIES_ASAP-cmdref.html" title="Signals ASAP that lens definition commands follow.">LENSES ENTITIES (ASAP Command)</a></div>
<div><a href="../Commands/OVERLAY_arg_ASAP-cmdref.html" title="Overlays plots (that is, places them on top of each other).">OVERLAY (ASAP Command Argument)</a></div>
<div><a href="../Commands/RAYS_ASAP-cmdref.html#RAYS_ASAP_Command" title="Sets the total number of rays in the virtual memory paging.">RAYS (ASAP Command)</a></div>
<div><a href="../Commands/RAYSET_ASAP-cmdref.html#RAYSET_ASAP_Command" title="Specifies an arbitrary set of rays.">RAYSET (ASAP Command)</a></div>
<div><a href="../Commands/WINDOW_ASAP-cmdref.html" title="Sets the plotting window for graphical output.">WINDOW (ASAP Command)</a></div>
</div>
</div>

</body>
</html></body></html>