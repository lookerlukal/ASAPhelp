<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:m="http://www.w3.org/1998/Math/MathML"><head/><body><span style="padding: 0; font-family: verdana, geneva, sans-serif;font-size: 11px; line-height: 1.50em;     color: #333;  background-color: #fff;"/><html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="USERAPOD BOTH (ASAP Command)"/>
<meta name="abstract" content="Apodize in position and/or direction the full 3D radiation patterns of volume emitters."/>
<meta name="description" content="Apodize in position and/or direction the full 3D radiation patterns of volume emitters."/>
<meta name="DC.subject" content="USERAPOD BOTH (ASAP Command), apodize, 3D radiation patterns of volume emitters, volume emitters, apodizing"/>
<meta name="keywords" content="USERAPOD BOTH (ASAP Command), apodize, 3D radiation patterns of volume emitters, volume emitters, apodizing"/>
<meta name="DC.Relation" scheme="URI" content="../Reference/Commands_U-ref.html#Commands_and_Macros_U"/>
<meta name="DC.Relation" scheme="URI" content="../Commands/EMITTING_ASAP-cmdref.html"/>
<meta name="DC.Relation" scheme="URI" content="../Commands/USERAPOD_ASAP-cmdref.html"/>
<meta name="DC.Relation" scheme="URI" content="../Commands/USERAPOD_ANGLES_ASAP-cmdref.html#USERAPOD_ANGLES_ASAP_Command"/>
<meta name="DC.Relation" scheme="URI" content="../Reference/Defining_an_Apodization_of_Emitting_Volumes-ref.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="USERAPOD_BOTH_ASAP_Command"/>
<link rel="stylesheet" type="text/css" href="../commonltr.css"/>
<title>USERAPOD BOTH (ASAP Command)</title>
</head>
<body id="USERAPOD_BOTH_ASAP_Command"><a name="USERAPOD_BOTH_ASAP_Command"><!-- --></a>


	<span style="color: #2b6eb5"><h5>USERAPOD BOTH (ASAP Command)</h5></span>
	
	
	<div><p>Apodize in position and/or direction the full 3D radiation patterns of volume
		emitters. </p>

		<p><b>Syntax 1</b>
		</p>

		<pre class="codeblock">
USERAPOD BOTH [ fcn ] [ c c' c" ... ] [ 'string' ]
APODIZE  OFF
      </pre>

		<p><b>Syntax 2</b>
		</p>

		<pre class="codeblock">
USERAPOD BOTH k f f' t t' [ i t" s  ]
APODIZE  X   -i  'filename'
         Y
         Z
      </pre>

		<br/><table border="0"><thead align="left"><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><th><span>Option</span></th><th><span>Description</span></th></tr></thead><tbody><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>fcn</span></td><td><span>name of the apodization function</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>c c' c". . .</span></td><td><span>up to 50 coefficients used to define the apodization function</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>k</span></td><td><span>specifies axis for spherical coordinate system</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>X Y Z</span></td><td><span>specifies spherical coordinate system axis </span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>f f'</span></td><td><span>zenith angle limits in degrees</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>t t'</span></td><td><span>azimuth angle limits in degrees</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>i</span></td><td><span>number used to name the interpolation data file</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>-i 'filename'</span></td><td><span>see Remarks</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>t"</span></td><td><span>azimuth angle data offset</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>s</span></td><td><span>data scale factor</span></td></tr></tbody></table>
		<p><b>Remarks</b>
		</p>

		<br/><a name="USERAPOD_BOTH_ASAP_Command__ul_51409CEEC5CF4470A420448091742E04"><!-- --></a><ol id="USERAPOD_BOTH_ASAP_Command__ul_51409CEEC5CF4470A420448091742E04">
			<li id="USERAPOD_BOTH_ASAP_Command__li_8A5E60560DAD42589C4ED6DCD78DD121"><a name="USERAPOD_BOTH_ASAP_Command__li_8A5E60560DAD42589C4ED6DCD78DD121"><!-- --></a>Apodize, in position and/or direction, the
				full 3D radiation patterns of volume emitters created with the <b>EMITTING</b> commands. </li>

			<li id="USERAPOD_BOTH_ASAP_Command__li_4817376531754E10A339E1863E538092"><a name="USERAPOD_BOTH_ASAP_Command__li_4817376531754E10A339E1863E538092"><!-- --></a><b>APODIZE</b> operates
				immediately on all the currently selected or considered rays and therefore, can be
				used before or after a <b>TRACE</b>. </li>

			<li id="USERAPOD_BOTH_ASAP_Command__li_E4FF644DA9394983AB2ACEF7E9B73BB3"><a name="USERAPOD_BOTH_ASAP_Command__li_E4FF644DA9394983AB2ACEF7E9B73BB3"><!-- --></a><b>USERAPOD</b> is only applied
				to rays when they are created. Therefore, you must place it prior to the ray
				definition commands for which it is applicable. Once entered, however, it modifies
				all subsequent ray data until turned <b>OFF.</b>
			</li>

			<li id="USERAPOD_BOTH_ASAP_Command__li_C653993D088143389C853DD66886E0C1"><a name="USERAPOD_BOTH_ASAP_Command__li_C653993D088143389C853DD66886E0C1"><!-- --></a><b>USERAPOD BOTH</b> only
				applies to the following ray creation commands: <b>EMITTING ENTITY</b>
				or <b>OBJECT, EMITTING BOX/SPHEROID, EMITTING CONE/PYRAMID, EMITTING FILAMENT,
					EMITTING HELIX,</b> and <b>EMITTING RAYS</b>. </li>

			<li id="USERAPOD_BOTH_ASAP_Command__li_6F2C7B6FCCBB4142BB68EE133F5C07D4"><a name="USERAPOD_BOTH_ASAP_Command__li_6F2C7B6FCCBB4142BB68EE133F5C07D4"><!-- --></a>The volume emitters are apodized according
				to the predefined <b>$FCN</b> function or the user-supplied Fortran in
				the function <b>USERBOTH</b>. If <b>fcn</b> is specified,
				then the global positional coordinates are passed in the _1 _2 _3 registers, the
				unit direction vector in _4 _5 _6, and the 50 coefficients <b>c c'
				...</b> in _7 _8 ... _56. Otherwise, the optional coefficients <b>(c c'
					c" ...)</b> and <b>'string'</b> are passed to <b>USERBOTH</b>. </li>

			<li id="USERAPOD_BOTH_ASAP_Command__li_13DE87FADE9247CCB1107C67AD784869"><a name="USERAPOD_BOTH_ASAP_Command__li_13DE87FADE9247CCB1107C67AD784869"><!-- --></a>The default definition for <b>USERBOTH</b> is the same as <b>USERANGS</b>, a spherical
				angle clipping and/or interpolation (see second syntax). </li>

			<li id="USERAPOD_BOTH_ASAP_Command__li_5AEA17721C5E4EEC8C8543CC9561A941"><a name="USERAPOD_BOTH_ASAP_Command__li_5AEA17721C5E4EEC8C8543CC9561A941"><!-- --></a>Option <b>k</b> is an axis
				specification (1=x, 2=y, 3=z) for a spherical coordinate system. </li>

			<li id="USERAPOD_BOTH_ASAP_Command__li_BA3119795CF941F48EFA71E608FED38F"><a name="USERAPOD_BOTH_ASAP_Command__li_BA3119795CF941F48EFA71E608FED38F"><!-- --></a>Option <b>f f'</b> are the
				limits of the zenith angle (in degrees) measured from this axis (default 0 to 180). </li>

			<li id="USERAPOD_BOTH_ASAP_Command__li_C2A100EE59AA47449B7E8B14C68A9F7D"><a name="USERAPOD_BOTH_ASAP_Command__li_C2A100EE59AA47449B7E8B14C68A9F7D"><!-- --></a>Option <b>t t'</b> are the
				limits of the azimuth angle measured around this axis (default 0 to 360). </li>

			<li id="USERAPOD_BOTH_ASAP_Command__li_3BB3C32A6A88444C822109C25E1C528E"><a name="USERAPOD_BOTH_ASAP_Command__li_3BB3C32A6A88444C822109C25E1C528E"><!-- --></a>Option <b>i</b> is an optional
				number (non-zero) of a file that contains an interpolation table in spherical
				coordinates. If <b>i</b> is negative, the complete case-sensitive name
				of the file is taken from the comment string. If <b>i</b> is positive
				and less than 80, then the name of the file must be <b>usap3d</b> and its extension
				is the character whose ASCII value is i+48 (that is, for i=2, the file is usap3d.2).
				Otherwise, the file name is the number itself and the extension is ua3 (that is, for
				i=9007, the file is 9007.ua3). </li>

			<li id="USERAPOD_BOTH_ASAP_Command__li_64C55C2D127C4D31950365C96264BB2E"><a name="USERAPOD_BOTH_ASAP_Command__li_64C55C2D127C4D31950365C96264BB2E"><!-- --></a>The <b>t"</b> is an azimuthal
				angle data offset and s a data scale factor for the data in the file. </li>

			<li id="USERAPOD_BOTH_ASAP_Command__li_5556FEDB39D54297B60D78FCE67190E8"><a name="USERAPOD_BOTH_ASAP_Command__li_5556FEDB39D54297B60D78FCE67190E8"><!-- --></a>Data contained in the file <b>USAP3D.i</b> is used to apodize the emitting volumes. The first two
				numbers on the first row of the file are the numbers of azimuth and zenith angles,
				respectively. The first column is the zenith angles. The first row is the azimuth
				angles. The subsequent data is the flux-weighted value at the particular angles.
				ASAP linearly interpolates to obtain the flux between data points. </li>

		</ol>

		<p>
			<a href="/example_scripts.html#USERAPOD">USERAPOD Examples</a>
		</p>

	</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="../Reference/Commands_U-ref.html#Commands_and_Macros_U" title="Topics in this section of the Contents tab include ASAP commands and macros that begin with the letter “U”.">Commands and Macros (U)</a></div>
</div>
<div class="relref"><strong>Related reference</strong><br/>
<div><a href="../Reference/Defining_an_Apodization_of_Emitting_Volumes-ref.html" title="This topic lists the input arguments and return for defining an apodization of emitting volumes.">Defining an Apodization of Emitting Volumes</a></div>
</div>
<div class="relinfo"><strong>Related information</strong><br/>
<div><a href="../Commands/EMITTING_ASAP-cmdref.html" title="Creates a composite single-source emitter from several EMITTING volume commands.">EMITTING (ASAP Command)</a></div>
<div><a href="../Commands/USERAPOD_ASAP-cmdref.html" title="Specifies a beam irradiance or intensity apodization.">USERAPOD (ASAP Command)</a></div>
<div><a href="../Commands/USERAPOD_ANGLES_ASAP-cmdref.html#USERAPOD_ANGLES_ASAP_Command" title="Specifies 3D angular apodization of volume emitters.">USERAPOD ANGLES (ASAP Command)</a></div>
</div>
</div>

</body>
</html></body></html>