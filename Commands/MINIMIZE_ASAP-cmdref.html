<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:m="http://www.w3.org/1998/Math/MathML"><head/><body><span style="padding: 0; font-family: verdana, geneva, sans-serif;font-size: 11px; line-height: 1.50em;     color: #333;  background-color: #fff;"/><html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="MINIMIZE (ASAP Command)"/>
<meta name="abstract" content="Minimizes the RMS spot size or the average of the previously specified fields, weighted by the w's."/>
<meta name="description" content="Minimizes the RMS spot size or the average of the previously specified fields, weighted by the w's."/>
<meta name="DC.subject" content="MINIMIZE (ASAP Command), RMS spot size, minimize"/>
<meta name="keywords" content="MINIMIZE (ASAP Command), RMS spot size, minimize"/>
<meta name="DC.Relation" scheme="URI" content="../Reference/Commands_M-ref.html#Commands_and_Macros_M"/>
<meta name="DC.Relation" scheme="URI" content="../Concept/Optimizing_a_Centered_Imaging_System-conc.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="MINIMIZE_ASAP_Command"/>
<link rel="stylesheet" type="text/css" href="../commonltr.css"/>
<title>MINIMIZE (ASAP Command)</title>
</head>
<body id="MINIMIZE_ASAP_Command"><a name="MINIMIZE_ASAP_Command"><!-- --></a>


	<span style="color: #2b6eb5"><h5>MINIMIZE (ASAP Command)</h5></span>
	
	
	<div><p>Minimizes the RMS spot size or the average of the previously specified fields,
		weighted by the <span class="option">w</span>'s. </p>

		<p><b>Syntax</b>
		</p>

		<pre class="codeblock">MINIMIZE [ w w'...] [ control c ] [ control c' ] ...</pre>

		<p><b>Remarks</b>
		</p>

		<br/><table border="0"><thead align="left"><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><th><span>Control</span></th><th><span>Default</span></th><th><span>Description</span></th></tr></thead><tbody><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>DIST</span></td><td><span>1 (100%) </span></td><td><span>Maximum allowed fractional spot-centroid distortion</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>GLTH</span></td><td><span>0</span></td><td><span>Minimum center and/or edge glass thickness</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span/></td><td><span>infinite</span></td><td><span>Maximum center and/or edge glass thickness</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>TLEN</span></td><td><span>infinite</span></td><td><span>Maximum total system length (first to last conicoid)</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span/></td><td><span>1</span></td><td><span>Optional starting conicoid</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span/></td><td><span>last</span></td><td><span>Optional ending conicoid</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>SDIA</span></td><td><span>infinite</span></td><td><span>Maximum unvignetted semi-diameter of a conicoid set</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span/></td><td><span>1</span></td><td><span>Optional starting conicoid</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span/></td><td><span>last</span></td><td><span>Optional ending conicoid</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>BKFD</span></td><td><span>0</span></td><td><span>Minimum back focal distance (last conicoid to focus)</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>BKWD</span></td><td><span>-Infinite</span></td><td><span>Minimum back working distance </span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>UBAR</span></td><td><span>1</span></td><td><span>Maximum magnitude of final chief ray slope</span></td></tr></tbody></table>
		<p>If the image quality of a design does not get better during an optimization, it is
			usually due to conflicting constraint violations or constraint violations not affected
			by the specified variables. </p>

		<br/><a name="MINIMIZE_ASAP_Command__ul_D383CCB379C148E8982CAA884921EA56"><!-- --></a><ol id="MINIMIZE_ASAP_Command__ul_D383CCB379C148E8982CAA884921EA56">
			<li id="MINIMIZE_ASAP_Command__li_3A1A7F0500BB4E70B3FFD207D650904D"><a name="MINIMIZE_ASAP_Command__li_3A1A7F0500BB4E70B3FFD207D650904D"><!-- --></a> Normal optimization controls: <br/><table border="0"><thead align="left"><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><th><span>Control</span></th><th><span>Default</span></th><th><span>Description</span></th></tr></thead><tbody><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>MULT</span></td><td><span>1 (local)</span></td><td><span>Number of multiple trial solutions (large for global)</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>SEED</span></td><td><span>987654321</span></td><td><span>Random (large odd integer) or quasi-random (zero) seed</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>TARG</span></td><td><span>1.E-9</span></td><td><span>Take first solution that drops below this RMS spot size</span></td></tr></tbody></table></li>

			<li id="MINIMIZE_ASAP_Command__li_023EAF323D5E4883B14001B162376C41"><a name="MINIMIZE_ASAP_Command__li_023EAF323D5E4883B14001B162376C41"><!-- --></a> Advanced optimization controls:
					<br/><table border="0"><thead align="left"><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><th><span>Control</span></th><th><span>Default</span></th><th><span>Description</span></th></tr></thead><tbody><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>TOLR</span></td><td><span>.0001</span></td><td><span>Fractional change in merit function at local minima</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>DELV</span></td><td><span>.001-1</span></td><td><span>Maximum allowable randomization of normalized variables</span></td></tr><tr style="background-color:#e8f0fb;font-family: verdana, geneva, sans-serif;font-size: 11px"><td><span>ITER</span></td><td><span>10</span></td><td><span>Maximum number of iterations per local optimization</span></td></tr></tbody></table><p>These advanced controls are automatically determined by the
						<b>MULTIPLE</b> value and the number of variables. In rare
					circumstances, they may have to be set explicitly. </p>
</li>

			<li id="MINIMIZE_ASAP_Command__li_EDA989A89A244048889DE738EB26CB8E"><a name="MINIMIZE_ASAP_Command__li_EDA989A89A244048889DE738EB26CB8E"><!-- --></a> The underlying design engine actually has
				a comprehensive "pickup" (a conicoid variable is constrained to follow one at a
				previous conicoid), and "paraxial solve" (a conicoid variable is determined from
				paraxial ray-trace requirements) capability. These are currently hidden but are used
				in the following circumstances: <br/><a name="MINIMIZE_ASAP_Command__ol_54236DC5C2384C199347E33E4860CCA7"><!-- --></a><ul id="MINIMIZE_ASAP_Command__ol_54236DC5C2384C199347E33E4860CCA7">
					<li id="MINIMIZE_ASAP_Command__li_F5C5BD2C4D63411EB65FCC6B3B674F6D"><a name="MINIMIZE_ASAP_Command__li_F5C5BD2C4D63411EB65FCC6B3B674F6D"><!-- --></a>The focal length of the lens is
						always held by a paraxial marginal ray solve for the curvature of the "last"
						conicoid (not counting any image space plane parallel plates, such as
						windows of filters), and, sometimes, a previous one coupled to it (see #3
						and #5). </li>

					<li id="MINIMIZE_ASAP_Command__li_B08A005D96BE4740AF483D00EAAC7BC4"><a name="MINIMIZE_ASAP_Command__li_B08A005D96BE4740AF483D00EAAC7BC4"><!-- --></a>The nominal focal plane position is
						found from a paraxial marginal ray solve for the back focal distance that
						results in a zero ray height. </li>

					<li id="MINIMIZE_ASAP_Command__li_D46CCF8DEE15410A89B9BF949598ADED"><a name="MINIMIZE_ASAP_Command__li_D46CCF8DEE15410A89B9BF949598ADED"><!-- --></a>If the starting design is symmetric
						and only the conicoid parameters for the front half are varied, the lens
						will automatically remain symmetric during optimization. </li>

					<li id="MINIMIZE_ASAP_Command__li_1B451DF8AF4749E0A1B0D71E221BF93D"><a name="MINIMIZE_ASAP_Command__li_1B451DF8AF4749E0A1B0D71E221BF93D"><!-- --></a>If more than one element references
						the same glass and only the first instance of that glass is varied, all
						other instances follow automatically. </li>

					<li id="MINIMIZE_ASAP_Command__li_4A133BC0A8BE4E318F209F408DBC0462"><a name="MINIMIZE_ASAP_Command__li_4A133BC0A8BE4E318F209F408DBC0462"><!-- --></a>If an element is actually a
						reflector, where the surface before and after it are geometrically the same,
						and even though, internally, two conicoids are used to represent the
						duplicate surface, the second instance will always replicate any changes in
						the first. A Mangin back-surface mirror and a Maksutov telescope (where the
						secondary is an aluminized spot on the back of the meniscus corrector) are
						common examples of this condition. </li>

				</ul>
</li>

		</ol>

		<p>
			<a href="../example_scripts.html#MINIMIZE">MINIMIZE Examples</a>
		</p>

	</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="../Reference/Commands_M-ref.html#Commands_and_Macros_M" title="Topics in this section of the Contents tab include ASAP commands and macros that begin with the letter “M”.">Commands and Macros (M)</a></div>
</div>
<div class="relconcepts"><strong>Related concepts</strong><br/>
<div><a href="../Concept/Optimizing_a_Centered_Imaging_System-conc.html" title="A lens can be optimized using a brute-force algorithm that finds either the nearest minimum or (given enough time) the global minimum, without requiring the merit function to be continuous (that is, no derivatives are used).">Optimizing a Centered Imaging System</a></div>
</div>
</div>

</body>
</html></body></html>